# トラブルシューティング

このページでは、Quincyの使用中に発生する可能性のある問題と解決方法を説明します。

## よくある問題と解決方法

### 接続に関する問題

#### Amazon Q CLIに接続できない

**症状**: ステータスバーが「未接続」を表示

**考えられる原因と解決方法**:

1. **Amazon Q CLIがインストールされていない**
   ```bash
   # インストール確認
   q --version
   
   # インストールされていない場合
   # 公式ドキュメントに従ってインストール
   ```

2. **認証が切れている**
   ```bash
   # 再ログイン
   q login
   
   # 認証状態確認
   q whoami
   ```

3. **パスの問題**
   - 設定画面でAmazon Q CLIのパスを確認
   - システムPATHに追加されているか確認

#### WebSocket接続エラー

**症状**: リアルタイム更新が機能しない

**解決方法**:
1. ブラウザを再読み込み（F5）
2. ブラウザのキャッシュクリア
3. バックエンドサーバーの再起動を開発者に依頼

### プロジェクト管理の問題

#### プロジェクトが表示されない

**症状**: プロジェクト一覧が空または表示されない

**解決方法**:
1. **ディレクトリアクセス権限の確認**
   - プロジェクトディレクトリへの読み取り権限があることを確認
   - 必要に応じて権限を変更

2. **プロジェクト設定の確認**
   - 設定画面でプロジェクトディレクトリパスを確認
   - 正しいパスが設定されているか確認

3. **手動リフレッシュ**
   - プロジェクト画面で「更新」ボタンをクリック
   - または `Ctrl + R` でページを再読み込み

#### プロジェクト切り替えができない

**症状**: プロジェクトをクリックしても切り替わらない

**解決方法**:
1. ブラウザのJavaScriptエラーをデベロッパーツールで確認
2. 別のプロジェクトで試行
3. アプリケーションの再起動

### チャット機能の問題

#### メッセージが送信されない

**症状**: メッセージ入力後、送信されない

**解決方法**:
1. **接続状態の確認**
   - ステータスバーで接続状態を確認
   - 未接続の場合は上記の接続問題を参照

2. **入力内容の確認**
   - 空のメッセージは送信されません
   - 極端に長いメッセージは制限される場合があります

3. **ブラウザの再読み込み**
   - F5キーでページを再読み込み

#### 応答が返ってこない

**症状**: メッセージ送信後、Amazon Qからの応答がない

**解決方法**:
1. **Amazon Q サービスの状態確認**
   - Amazon Q CLIが正常に動作しているか確認
   - 他のターミナルで直接CLIを試行

2. **タイムアウト設定の確認**
   - 設定画面でタイムアウト時間を確認
   - 必要に応じて延長

3. **メッセージ内容の見直し**
   - より具体的で明確な指示に変更
   - 複雑な要求は段階的に分割

### ファイル管理の問題

#### ファイルが表示されない

**症状**: ファイルエクスプローラーにファイルが表示されない

**解決方法**:
1. **ディレクトリアクセス権限の確認**
   ```bash
   # ディレクトリの権限確認
   ls -la /path/to/project
   ```

2. **隠しファイルの表示設定**
   - 設定画面で隠しファイルの表示設定を確認

3. **ファイルフィルターの確認**
   - 検索フィルターが適用されていないか確認

#### ファイル変更が反映されない

**症状**: Amazon Qによる変更がファイルシステムに反映されない

**解決方法**:
1. **書き込み権限の確認**
   - ファイルとディレクトリの書き込み権限を確認

2. **ファイルロックの確認**
   - 他のアプリケーションでファイルが開かれていないか確認

3. **手動更新**
   - ファイルエクスプローラーで手動更新を実行

### ターミナル機能の問題

#### ターミナルが起動しない

**症状**: ターミナルパネルが表示されないまたは動作しない

**解決方法**:
1. **ブラウザの権限確認**
   - ブラウザがシステムアクセスを許可しているか確認

2. **セキュリティ設定**
   - ファイアウォールやセキュリティソフトがブロックしていないか確認

3. **代替手段**
   - 外部ターミナルアプリケーションの使用

#### コマンド実行エラー

**症状**: ターミナルでコマンドが実行できない

**解決方法**:
1. **作業ディレクトリの確認**
   ```bash
   # 現在のディレクトリ確認
   pwd
   
   # プロジェクトディレクトリに移動
   cd /path/to/project
   ```

2. **パス設定の確認**
   - 環境変数PATHが正しく設定されているか確認

3. **権限の確認**
   - コマンドの実行権限があるか確認

## エラーメッセージの意味と対処法

### 一般的なエラーメッセージ

#### "Connection failed to Amazon Q CLI"
- **意味**: Amazon Q CLIとの接続に失敗
- **対処法**: Amazon Q CLIのインストールと認証を確認

#### "Project directory not accessible"
- **意味**: プロジェクトディレクトリにアクセスできない
- **対処法**: ディレクトリパスと権限を確認

#### "WebSocket connection lost"
- **意味**: リアルタイム通信が切断された
- **対処法**: ページを再読み込みまたはネットワーク接続確認

#### "Command execution timeout"
- **意味**: コマンドの実行がタイムアウトした
- **対処法**: タイムアウト設定を延長または処理を分割

### 技術的エラーメッセージ

#### "TypeError: Cannot read property..."
- **意味**: JavaScriptの実行エラー
- **対処法**: ブラウザの再読み込みまたはキャッシュクリア

#### "Network Error"
- **意味**: ネットワーク接続の問題
- **対処法**: インターネット接続とサーバー状態を確認

#### "Permission denied"
- **意味**: ファイルシステムアクセス権限がない
- **対処法**: 管理者権限で実行または権限設定変更

## パフォーマンスの最適化

### 動作が重い場合

#### ブラウザ関連の最適化
1. **メモリ使用量の確認**
   - タスクマネージャーでブラウザのメモリ使用量確認
   - 不要なタブを閉じる

2. **ブラウザキャッシュのクリア**
   - Ctrl + Shift + Delete でキャッシュクリア
   - ハードリロード（Ctrl + F5）の実行

3. **拡張機能の無効化**
   - ブラウザ拡張機能が影響していないか確認
   - シークレット/プライベートモードでの動作確認

#### アプリケーション設定の最適化
1. **チャット履歴の管理**
   - 古い履歴の削除または アーカイブ
   - 履歴保持期間の短縮

2. **ファイル監視の調整**
   - 監視対象ファイルの制限
   - 監視間隔の調整

3. **UI設定の軽量化**
   - アニメーション効果の無効化
   - 表示項目の削減

### メモリ使用量の最適化

#### プロジェクト管理
- 大きなプロジェクトでは必要なファイルのみを監視
- 使用しないプロジェクトのセッション終了

#### チャット履歴
- 定期的な履歴のクリア
- 重要な会話のみ保存

## ログの確認方法

### ブラウザのデベロッパーツール

1. **ツールの起動**
   - F12キーまたは右クリック → 「検証」

2. **コンソールログの確認**
   - Consoleタブでエラーメッセージを確認
   - 赤色のエラーメッセージに注目

3. **ネットワークログの確認**
   - Networkタブで通信エラーを確認
   - 失敗したリクエストの詳細を確認

### アプリケーションログ

開発者に以下の情報を提供すると問題解決が早くなります：

- エラーが発生した時刻
- 実行していた操作
- ブラウザとバージョン
- コンソールのエラーメッセージ
- 再現手順

## サポートへの問い合わせ

問題が解決しない場合は、以下の情報を含めて開発者にお問い合わせください：

### 必要な情報
- **環境情報**: OS、ブラウザ、バージョン
- **エラー詳細**: エラーメッセージの完全なテキスト
- **再現手順**: 問題が発生するまでの操作手順
- **期待する動作**: 本来どのように動作すべきか
- **スクリーンショット**: 可能であれば画面の状態

### 緊急度の判断
- **高**: アプリケーションが全く使用できない
- **中**: 一部機能が使用できない
- **低**: 不便だが回避策がある

これらの情報を提供することで、迅速で的確なサポートを受けることができます。